# 2026-02-09 작업 기록

## 요약
- **주요 목표:** 뉴스룸 및 AI 추천 시스템 UI/UX 전면 개편
- **총 변경 파일:** `web/main.py`, `web/templates/*.html`, `web/static/style.css`, `storage.py`
- **주요 성과:**
  1. **설정 페이지:** 카테고리별 언론사 선택 모달 및 그리드 UI 구현
  2. **뉴스룸:** 2컬럼 레이아웃, 날짜 유지 기능(localStorage), 페이지네이션 버그 수정
  3. **AI 추천:** 평가 시스템 개선(인덱스 버그 수정), 키워드 표시, 2컬럼 카드 디자인

---

## 작업 1: 설정(Settings) 페이지 고도화

### 무엇을
- **대상:** `web/templates/settings.html`, `web/main.py`
- **범위:** `naver_media_codes.json` 기반의 언론사 선택 UI 구현

### 어떻게
- **방법:**
    1. "언론사 추가" 버튼 클릭 시 모달 팝업 표시.
    2. 언론사를 카테고리(종합지, 경제지, IT/과학 등) 탭으로 분류.
    3. 각 언론사를 3열 그리드 카드로 표시하고, 이미 구독 중인 경우 "추가됨" 배지 표시.
- **도구:** Vanilla JS, CSS Grid, Jinja2 Template.

### 왜
- **배경:** 기존에는 언론사 이름을 직접 입력해야 했고, 전체 목록을 알기 어려웠음.
- **목적:** 직관적인 탐색과 선택을 통해 구독 경험 개선.

---

## 작업 2: 뉴스룸(News Room) 레이아웃 및 기능 개선

### 무엇을
- **대상:** `web/templates/news_room.html`, `web/static/style.css`
- **범위:** 기사 카드 레이아웃 변경 및 날짜 탐색 UX 개선

### 어떻게
- **방법:**
    1. **Layout:** 기존 리스트 형태에서 2컬럼 그리드로 변경. 카드 높이를 유연하게 하여 내용 잘림 방지.
    2. **Persistence:** `localStorage`를 사용하여 뉴스룸 날짜 변경 후 다른 페이지(AI 추천 등)로 이동했다 돌아와도 날짜 유지.
    3. **Pagination:** 섹션(A1, A10 등) 페이지네이션 버튼이 제대로 표시되지 않던 문제 해결.

### 왜
- **배경:** 가로로 긴 카드는 공간 효율이 떨어졌고, 페이지 이동 시 날짜가 초기화되는 불편함이 있었음.
- **목적:** 정보 밀도를 높이고 끊김 없는 탐색 경험 제공.

---

## 작업 3: AI 추천(Recommendations) 시스템 개선

### 무엇을
- **대상:** `web/templates/recommendations.html`, `web/main.py`
- **범위:** 추천 카드 UI 리디자인 및 평가 버그 수정

### 어떻게
- **방법:**
    1. **Design:** 2컬럼 그리드 적용, 스코어/날짜/언론사를 상단 메타데이터로 분리.
    2. **Bug Fix:** 평가 버튼 클릭 시 인덱스 불일치로 다른 카드가 "평가완료" 되는 버그 수정 (`loop.index0` 및 `data-idx` 활용).
    3. **Feature:** 추천에 사용된 페르소나 키워드를 상단에 표시 (`settings.json` 연동).

### 왜
- **배경:** 평가 기능 오작동으로 데이터 수집 신뢰도가 떨어졌고, 어떤 기준으로 추천되었는지 알 수 없었음.
- **목적:** 신뢰도 높은 평가 데이터 수집 및 추천 투명성 확보.
